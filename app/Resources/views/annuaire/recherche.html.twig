{% extends 'base.html.twig' %}


{% block body %}

    <br><br><br><br>
    <h3 class="header light center" id="titre">Annuaire de l'université</h3>
    <br><br>
    <div class="row container">
        <div class="col s12">
            <div class="row">
                <div class="input-field col s12">
                    <i class="material-icons prefix">filter_list</i>
                    <input type="text" id="autocomplete-input" class="autocomplete">
                    <label for="autocomplete-input">Rechercher un professeur ou un étudiant</label>
                </div>
            </div>
        </div>
    </div>
    <br><br><br><br>
    <br><br><br><br><br>
    <br><br><br><br><br>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript">
        $(document).ready(function () { // Lie ma page html avec fonction jquery
            $('input.autocomplete').autocomplete({
                data: {
                    "HONG": null,
                    "MBAPE": null,
                    "JIA": null,
                },
                limit: 20, // The max amount of results that can be shown at once. Default: Infinity.
                onAutocomplete: function (val) {
                    // Fonction de callback quand appuie sur résulat

                    // Envoie valeur via url prédéfinis
                    let url = '{{ path("annuaire_fiche", {'nom': 'data'}) }}';
                    url = url.replace("data", val);
                    window.location.replace(url);
                },
                minLength: 1 // The minimum length of the input for the autocomplete to start. Default: 1.
            });

        });
    </script>
{% endblock %}
